用例编号,所属模块,相关需求,用例标题,前置条件,步骤,预期结果,关联用例,优先级,用例类型,适用阶段
TC-ENV-001,环境兼容性/操作系统,REQ-001 支持主流 Linux 操作系统,Ubuntu 22.04 LTS 环境下工具正常启动运行,"1. Ubuntu 22.04 LTS 操作系统
2. 已安装 Docker 20.10+
3. 已安装 Node.js 18+
4. 已安装 npm 或 yarn
5. 网络连接正常","1. 进入项目目录 cd thingsboard-config-mate
2. 执行 npm install 安装依赖
3. 执行 node tb-config-src.js 启动工具
4. 在浏览器中访问 http://localhost:3300
5. 检查页面是否正常加载
6. 检查控制台是否有错误信息","1. npm install 成功完成无报错
2. 工具成功启动并监听 3300 端口
3. 浏览器正常打开配置管理界面
4. 页面显示配置分组和配置项
5. 控制台无错误信息
6. 所有功能按钮可点击",TC-ENV-002;TC-ENV-003,P0,功能测试,系统测试阶段
TC-INIT-001,前置条件与初始化/模式识别,REQ-002 自动识别 Edge/Cloud 模式,存在 tb-edge.yml 时自动识别为 Edge 模式,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. conf 目录下存在 tb-edge.yml 文件
4. conf 目录下不存在 thingsboard.yml 文件","1. 确认 conf/tb-edge.yml 文件存在
2. 确认 conf/thingsboard.yml 文件不存在
3. 启动工具 node tb-config-src.js
4. 在浏览器中访问 http://localhost:3300
5. 观察页面标题和配置分组
6. 检查是否显示 Edge 专属配置组（如 Edge 连接配置、离线恢复策略、遥测分离等）","1. 工具成功启动
2. 页面标题或模式指示器显示 Edge 模式
3. 显示「Edge 连接配置」分组（CLOUD_ROUTING_KEY 等）
4. 显示「云边通信状态检查」分组
5. 显示「离线恢复策略」分组
6. 显示「遥测分离」分组（当启用时）
7. 不显示 Cloud 专属配置项",TC-INIT-002,P0,功能测试,系统测试阶段
TC-INIT-002,前置条件与初始化/模式识别,REQ-002 自动识别 Edge/Cloud 模式,存在 thingsboard.yml 时自动识别为 Cloud 模式,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. conf 目录下存在 thingsboard.yml 文件
4. conf 目录下不存在 tb-edge.yml 文件","1. 确认 conf/thingsboard.yml 文件存在
2. 确认 conf/tb-edge.yml 文件不存在
3. 启动工具 node tb-config-src.js
4. 在浏览器中访问 http://localhost:3300
5. 观察页面标题和配置分组
6. 检查是否显示 Cloud 专属配置项（如 MQTT 端口等）","1. 工具成功启动
2. 页面标题或模式指示器显示 Cloud 模式
3. 显示「MQTT 传输」分组
4. 显示「数据库配置」分组
5. 不显示 Edge 专属配置组（Edge 连接配置等）
6. 配置项符合 Cloud 模式元数据定义",TC-INIT-001,P0,功能测试,系统测试阶段
TC-INIT-003,前置条件与初始化/配置文件检测,REQ-003 配置文件缺失时阻断启动,两个配置文件都不存在时显示阻断性错误,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. conf 目录下不存在 tb-edge.yml 文件
4. conf 目录下不存在 thingsboard.yml 文件","1. 确认 conf/tb-edge.yml 文件不存在
2. 确认 conf/thingsboard.yml 文件不存在
3. 启动工具 node tb-config-src.js
4. 在浏览器中访问 http://localhost:3300
5. 观察页面显示内容","1. 工具启动但显示阻断性错误
2. 页面显示明确的错误提示信息
3. 错误信息说明缺少配置文件
4. 提示用户需要创建 tb-edge.yml 或 thingsboard.yml
5. 配置管理界面不可用",TC-INIT-004,P0,异常测试,系统测试阶段
TC-INIT-004,前置条件与初始化/.env 自动初始化,REQ-004 自动生成 .env 文件,.env 文件不存在时自动从 YAML 提取默认值创建,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. conf 目录下存在 tb-edge.yml 或 thingsboard.yml
4. 项目根目录下不存在 .env 文件","1. 确认 .env 文件不存在
2. 启动工具 node tb-config-src.js
3. 在浏览器中访问 http://localhost:3300
4. 检查项目根目录下是否生成 .env 文件
5. 检查生成的 .env 文件内容","1. 工具成功启动
2. 自动生成 .env 文件
3. .env 文件包含从 YAML 提取的默认配置
4. 页面正常显示配置项
5. 配置项值为 YAML 中定义的默认值",TC-INIT-005;TC-INIT-006,P0,功能测试,系统测试阶段
TC-INIT-005,前置条件与初始化/.env 自动初始化,REQ-004 自动补充缺失配置,.env 存在但缺少部分配置时自动补充,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. conf 目录下存在配置文件
4. .env 文件存在但缺少部分配置项","1. 创建一个不完整的 .env 文件（仅包含部分配置）
2. 记录 .env 文件初始内容
3. 启动工具 node tb-config-src.js
4. 在浏览器中访问 http://localhost:3300
5. 检查 .env 文件是否被更新","1. 工具成功启动
2. .env 文件被自动补充缺失的配置项
3. 原有配置项保持不变
4. 新增配置项使用默认值
5. 页面正常显示所有配置项",TC-INIT-004;TC-INIT-006,P0,功能测试,系统测试阶段
TC-INST-001,前置条件与初始化/安装向导,REQ-005 安装向导功能,存在安装脚本时显示初始化安装按钮,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. 项目根目录下存在 docker-compose-install.yml 文件
4. 系统尚未完成初始化","1. 确认 docker-compose-install.yml 文件存在
2. 启动工具 node tb-config-src.js
3. 在浏览器中访问 http://localhost:3300
4. 检查页面是否显示「初始化安装」按钮
5. 观察按钮位置和样式","1. 工具成功启动
2. 页面显示「初始化安装」按钮
3. 按钮位于操作区域显眼位置
4. 按钮样式正常可点击
5. 鼠标悬停有交互效果",TC-INST-002;TC-INST-003,P0,功能测试,系统测试阶段
TC-INST-002,前置条件与初始化/安装向导,REQ-005 安装向导功能,点击初始化安装弹出确认对话框并执行,"1. Linux 操作系统已就绪
2. docker-compose-install.yml 文件存在
3. 工具已启动
4. 页面显示「初始化安装」按钮","1. 点击「初始化安装」按钮
2. 观察是否弹出确认对话框
3. 点击确认按钮
4. 观察安装过程日志显示
5. 等待安装完成检查结果","1. 点击按钮后弹出确认对话框
2. 对话框包含确认和取消按钮
3. 确认后开始执行安装脚本
4. 实时显示安装日志和进度
5. 安装完成后显示成功提示
6. 页面状态更新",TC-INST-001;TC-INST-003,P0,功能测试,系统测试阶段
TC-CFG-001,可视化配置管理/配置分组与展示,REQ-006 配置分组显示,Edge 模式加载时显示 Edge 专属配置组,"1. Linux 操作系统已就绪
2. 工具已部署完成
3. Edge 模式已识别（存在 tb-edge.yml）
4. 工具已启动","1. 启动工具并访问 http://localhost:3300
2. 观察页面配置分组结构
3. 检查是否显示 Edge 专属分组
4. 检查分组内配置项是否完整
5. 验证分组可展开/折叠","1. 页面正常加载
2. 显示「Edge 连接配置」分组
3. 显示「云边通信状态检查」分组
4. 显示「离线恢复策略」分组
5. 显示「遥测分离」分组
6. 各分组可正常展开和折叠",TC-CFG-002;TC-CFG-003,P0,功能测试,系统测试阶段
TC-CFG-002,可视化配置管理/配置分组与展示,REQ-006 配置分组显示,点击全部展开/折叠按钮批量操作配置组,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载配置分组","1. 确认页面显示多个配置分组
2. 点击「全部展开」按钮
3. 观察所有配置组是否展开
4. 点击「全部折叠」按钮
5. 观察所有配置组是否折叠","1. 点击「全部展开」后所有配置组展开
2. 展开状态下可看到每个分组内的配置项
3. 点击「全部折叠」后所有配置组折叠
4. 折叠状态下仅显示分组标题
5. 按钮交互响应及时无延迟",TC-CFG-001;TC-CFG-003,P0,功能测试,系统测试阶段
TC-DEP-001,可视化配置管理/条件依赖,REQ-007 配置项条件依赖,队列类型选择 Kafka 时显示 Kafka 相关配置,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载
4. 存在队列类型配置项","1. 定位「队列类型」配置项
2. 将队列类型切换为 Kafka
3. 观察页面配置项变化
4. 检查是否新增 Kafka 相关配置项
5. 验证 Kafka 配置项可编辑","1. 队列类型成功切换为 Kafka
2. 页面显示「Kafka 服务器地址」配置项
3. 页面显示「Kafka 拉取条数」配置项
4. 相关配置项可正常编辑
5. 保存后配置写入 .env 文件",TC-DEP-002;TC-DEP-003,P0,功能测试,系统测试阶段
TC-DEP-002,可视化配置管理/条件依赖,REQ-007 配置项条件依赖,队列类型选择 in-memory 时隐藏 Kafka 配置,"1. Linux 操作系统已就绪
2. 工具已启动
3. 队列类型当前为 Kafka
4. 页面显示 Kafka 相关配置项","1. 定位「队列类型」配置项
2. 将队列类型切换为 in-memory
3. 观察页面配置项变化
4. 检查 Kafka 相关配置项是否隐藏
5. 保存配置并验证","1. 队列类型成功切换为 in-memory
2. Kafka 服务器地址配置项隐藏
3. Kafka 拉取条数配置项隐藏
4. 页面布局自动调整
5. 保存后 .env 中 Kafka 相关配置保留但不影响",TC-DEP-001;TC-DEP-003,P0,功能测试,系统测试阶段
TC-DEP-003,可视化配置管理/条件依赖,REQ-007 配置项条件依赖,缓存类型选择 Redis 时显示 Redis 配置项,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载
4. 存在缓存类型配置项","1. 定位「缓存类型」配置项
2. 将缓存类型切换为 Redis
3. 观察页面配置项变化
4. 检查是否新增 Redis 相关配置项
5. 验证 Redis 配置项可编辑保存","1. 缓存类型成功切换为 Redis
2. 页面显示「Redis 主机」配置项
3. 页面显示「Redis 端口」配置项
4. 页面显示「Redis 密码」配置项
5. 相关配置项可正常编辑保存到 .env",TC-DEP-001;TC-DEP-002,P0,功能测试,系统测试阶段
TC-EDIT-001,可视化配置管理/配置值编辑,REQ-008 配置值编辑功能,编辑文本类型配置项并保存,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载配置项
4. 存在文本类型配置项","1. 定位一个文本类型配置项（如 CLOUD_RPC_HOST）
2. 点击输入框进行编辑
3. 输入新值（如 cloud.thingsboard.io）
4. 点击「保存配置」按钮
5. 检查 .env 文件内容","1. 输入框可正常编辑
2. 输入值正确显示
3. 保存按钮可点击
4. 保存成功后显示成功提示
5. .env 文件中对应配置项值已更新",TC-EDIT-002;TC-EDIT-003,P0,功能测试,系统测试阶段
TC-EDIT-002,可视化配置管理/配置值编辑,REQ-008 配置值编辑功能,编辑密码类型配置项并切换显示,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载配置项
4. 存在密码类型配置项（如 DB_PASS）","1. 定位密码类型配置项
2. 确认初始状态为密文显示（***）
3. 点击眼睛图标切换显示
4. 输入新密码值
5. 再次点击眼睛图标切换回密文
6. 点击保存并检查 .env","1. 密码输入框初始显示为密文
2. 点击眼睛图标后密码明文显示
3. 可正常输入新密码
4. 再次点击后恢复密文显示
5. 保存成功后 .env 中密码已更新",TC-EDIT-001;TC-EDIT-003,P0,功能测试,系统测试阶段
TC-EDIT-003,可视化配置管理/配置值编辑,REQ-008 配置值编辑功能,编辑下拉选择类型配置项并保存,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载配置项
4. 存在下拉选择类型配置项（如队列类型）","1. 定位下拉选择类型配置项
2. 点击下拉框展开选项列表
3. 选择一个不同的选项
4. 确认选择后界面更新
5. 点击保存并检查 .env","1. 下拉框可正常点击展开
2. 选项列表正确显示所有可选值
3. 选择后下拉框显示新选中值
4. 相关依赖配置项正确显示/隐藏
5. 保存成功后 .env 中配置已更新",TC-EDIT-001;TC-EDIT-002,P0,功能测试,系统测试阶段
TC-SRC-001,可视化配置管理/源码模式,REQ-009 源码模式编辑,切换到源码模式显示 .env 原始内容,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载配置项
4. 当前处于 UI 编辑模式","1. 确认当前处于 UI 编辑模式
2. 找到并点击「源码模式」切换按钮
3. 观察页面内容变化
4. 检查显示内容是否为 .env 原始格式
5. 验证内容可编辑","1. 成功切换到源码模式
2. 显示 .env 文件原始内容
3. 格式为 KEY=VALUE 形式
4. 内容可直接编辑
5. 有保存按钮和切换回 UI 模式按钮",TC-SRC-002;TC-SRC-003,P0,功能测试,系统测试阶段
TC-SRC-002,可视化配置管理/源码模式,REQ-009 源码模式编辑,源码模式下编辑保存后 UI 模式正确反映修改,"1. Linux 操作系统已就绪
2. 工具已启动
3. 当前处于源码模式","1. 在源码模式下修改某个配置值
2. 点击保存按钮
3. 确认保存成功
4. 切换回 UI 模式
5. 检查对应配置项是否更新","1. 源码模式下可正常编辑
2. 保存成功并显示成功提示
3. .env 文件内容已更新
4. 切换到 UI 模式后对应值已更新
5. UI 模式显示与源码一致",TC-SRC-001;TC-SRC-003,P0,功能测试,系统测试阶段
TC-CTR-001,容器生命周期管理/服务状态检测,REQ-010 容器状态检测,服务运行时状态徽章显示绿色 Running,"1. Linux 操作系统已就绪
2. Docker 已安装并运行
3. ThingsBoard 容器已启动运行
4. 工具已启动","1. 确认容器正在运行（docker ps）
2. 启动工具并访问 http://localhost:3300
3. 观察服务状态区域
4. 检查状态徽章颜色和文字
5. 检查是否有脉冲动画","1. 状态区域正确显示服务状态
2. 状态徽章显示绿色
3. 文字显示 Running
4. 有脉冲动画效果
5. 显示「停止」和「重启」按钮",TC-CTR-002;TC-CTR-003,P0,功能测试,系统测试阶段
TC-CTR-002,容器生命周期管理/服务状态检测,REQ-010 容器状态检测,服务停止时状态徽章显示灰色 Stopped,"1. Linux 操作系统已就绪
2. Docker 已安装
3. ThingsBoard 容器已停止
4. 工具已启动","1. 确认容器已停止（docker ps -a）
2. 启动工具并访问 http://localhost:3300
3. 观察服务状态区域
4. 检查状态徽章颜色和文字
5. 检查按钮显示","1. 状态区域正确显示服务状态
2. 状态徽章显示灰色
3. 文字显示 Stopped
4. 无脉冲动画
5. 仅显示「启动」按钮",TC-CTR-001;TC-CTR-003,P0,功能测试,系统测试阶段
TC-CTR-003,容器生命周期管理/服务控制,REQ-011 容器生命周期控制,点击启动服务按钮启动容器,"1. Linux 操作系统已就绪
2. Docker 已安装
3. ThingsBoard 容器已停止
4. 工具已启动","1. 确认容器已停止
2. 点击「启动服务」按钮
3. 观察页面反馈
4. 等待启动完成
5. 检查容器状态（docker ps）","1. 点击按钮后显示启动中提示
2. 实时显示启动日志（可选）
3. 启动完成后状态变为 Running
4. 徽章颜色变为绿色
5. docker ps 确认容器已运行",TC-CTR-001;TC-CTR-004,P0,功能测试,系统测试阶段
TC-CTR-004,容器生命周期管理/服务控制,REQ-011 容器生命周期控制,点击停止服务按钮弹出确认后停止容器,"1. Linux 操作系统已就绪
2. Docker 已安装
3. ThingsBoard 容器运行中
4. 工具已启动","1. 确认容器正在运行
2. 点击「停止服务」按钮
3. 观察是否弹出确认对话框
4. 点击确认按钮
5. 等待停止完成检查状态","1. 点击按钮后弹出确认对话框
2. 确认后开始停止操作
3. 停止完成后状态变为 Stopped
4. 徽章颜色变为灰色
5. docker ps 确认容器已停止",TC-CTR-003;TC-CTR-005,P0,功能测试,系统测试阶段
TC-VER-001,配置版本控制/自动备份,REQ-012 配置版本控制,保存配置时自动生成备份文件,"1. Linux 操作系统已就绪
2. 工具已启动
3. 页面已正常加载
4. .env_history 目录可写","1. 修改一个配置项的值
2. 点击「保存配置」按钮
3. 确认保存成功
4. 检查 .env_history 目录
5. 验证备份文件内容","1. 保存成功并显示成功提示
2. .env_history 目录下生成新备份文件
3. 备份文件名包含时间戳
4. 备份文件内容为保存前的配置
5. 备份文件可正常读取",TC-VER-002;TC-VER-003,P0,功能测试,系统测试阶段
TC-VER-002,配置版本控制/历史版本管理,REQ-012 配置版本控制,点击历史版本查看并回滚到指定版本,"1. Linux 操作系统已就绪
2. 工具已启动
3. .env_history 目录下存在历史备份
4. 已多次保存过配置","1. 点击「历史版本」按钮
2. 观察历史版本列表弹窗
3. 选择一个历史版本
4. 观察版本差异对比
5. 点击「回滚」按钮并确认","1. 弹出历史版本列表弹窗
2. 列表显示可用的历史版本（带时间戳）
3. 选择版本后显示与当前版本的 Diff 对比
4. 点击回滚后 .env 恢复为选中版本内容
5. 页面刷新显示回滚后的配置",TC-VER-001;TC-VER-003,P0,功能测试,系统测试阶段
TC-RTD-001,运行时环境检测/Runtime Diff,REQ-013 运行时差异检测,检测本地配置与容器运行时配置差异,"1. Linux 操作系统已就绪
2. 工具已启动
3. ThingsBoard 容器运行中
4. 本地 .env 与容器内配置存在差异","1. 修改本地 .env 中某个配置值（不重启容器）
2. 点击「运行环境检查」按钮
3. 观察对比表格弹窗
4. 检查差异标识显示
5. 核对差异内容准确性","1. 弹出对比表格弹窗
2. 表格显示本地值和容器运行时值
3. 一致的配置显示绿色 Match 标识
4. 差异配置显示黄色警告和具体差异
5. 提示用户需重启使配置生效",TC-RTD-002,P0,功能测试,系统测试阶段
TC-LOG-001,实时日志/日志查看,REQ-014 实时日志功能,点击查看日志显示容器实时日志,"1. Linux 操作系统已就绪
2. 工具已启动
3. ThingsBoard 容器运行中
4. 容器有日志输出","1. 确认容器正在运行
2. 点击「查看日志」按钮
3. 观察日志窗口弹出
4. 检查日志内容显示
5. 测试自动换行和清空功能","1. 弹出日志查看窗口
2. 实时显示容器日志（SSE 推送）
3. 日志内容格式正确可读
4. 自动换行功能正常
5. 点击清空按钮可清空日志区域
6. 点击关闭可关闭日志窗口",TC-LOG-002,P0,功能测试,系统测试阶段
TC-EDGE-001,Edge 模式专项/Edge 连接配置,REQ-015 Edge 模式专项功能,配置 Edge 连接参数并保存,"1. Linux 操作系统已就绪
2. 工具已启动
3. Edge 模式已识别
4. 页面显示 Edge 连接配置分组","1. 定位「Edge 连接配置」分组
2. 填写 CLOUD_ROUTING_KEY 值
3. 填写 CLOUD_ROUTING_SECRET 值
4. 填写 CLOUD_RPC_HOST 值
5. 点击保存并检查 .env","1. 配置项可正常编辑
2. 输入值正确显示
3. 保存成功后显示成功提示
4. .env 中 CLOUD_ROUTING_KEY 已更新
5. .env 中 CLOUD_ROUTING_SECRET 已更新
6. .env 中 CLOUD_RPC_HOST 已更新",TC-EDGE-002;TC-EDGE-003,P0,功能测试,系统测试阶段
TC-CLOUD-001,Cloud 模式专项/Cloud 配置,REQ-016 Cloud 模式专项功能,Cloud 模式下配置 MQTT 和数据库参数,"1. Linux 操作系统已就绪
2. 工具已启动
3. Cloud 模式已识别
4. 页面不显示 Edge 专属配置","1. 确认不显示 Edge 连接配置分组
2. 定位 MQTT 传输配置
3. 修改 MQTT_BIND_PORT 值
4. 修改数据库连接配置
5. 点击保存并检查 .env","1. 不显示 Edge 连接配置分组
2. MQTT 配置可正常编辑
3. 数据库配置可正常编辑
4. 保存成功后显示成功提示
5. .env 中相关配置已更新
6. 缓存和队列配置切换正常",TC-CLOUD-002,P0,功能测试,系统测试阶段













